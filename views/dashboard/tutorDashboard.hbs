<h2>ğŸ‘¨â€ğŸ« Tutor Dashboard</h2>

<p>Hello tutor {{tutor.name}}â™¥â™¥â™¥</p>

<h4 class="mt-5">ğŸ“š CÃ¡c lá»›p báº¡n Ä‘ang quáº£n lÃ½</h4>
<table class="table table-striped">
  <thead>
    <tr>
      <th>TÃªn lá»›p</th>
      <th>MÃ´n há»c</th>
      <th>Sá»‘ sinh viÃªn</th>
    </tr>
  </thead>
  <tbody>
    {{#each classes}}
      <tr>
        <td>{{this.name}}</td>
        <td>{{this.subject}}</td>
        <td>{{this.studentCount}}</td>
      </tr>
    {{/each}}
  </tbody>
</table>

<div class="mt-4">
  <p>ğŸ“„ Sá»‘ lÆ°á»£ng tÃ i liá»‡u Ä‘Ã£ táº¡o: <strong>{{documentCount}}</strong></p>
  <p>ğŸ’¬ Tá»•ng sá»‘ comment vÃ o bÃ i viáº¿t: <strong>{{totalComments}}</strong></p>
</div>

<!-- Biá»ƒu Ä‘á»“ thá»‘ng kÃª -->
<h4 class="mt-5">ğŸ“Š Biá»ƒu Ä‘á»“ thá»‘ng kÃª tÃ i liá»‡u & bÃ¬nh luáº­n</h4>
<canvas id="docBarChart" width="600" height="300"></canvas>

<!-- Danh sÃ¡ch bÃ i viáº¿t -->
<h4 class="mt-5">ğŸ“ Danh sÃ¡ch bÃ i viáº¿t cá»§a báº¡n</h4>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>TiÃªu Ä‘á»</th>
      <th>Sá»‘ comment</th>
      <th>HÃ nh Ä‘á»™ng</th>
    </tr>
  </thead>
  <tbody>
    {{#each documents}}
      <tr>
        <td>{{this.title}}</td>
        <td>{{this.comments.length}}</td>
        <td>
          <a href="/documents/edit/{{this._id}}" class="btn btn-sm btn-primary">ğŸ“ Edit</a>
          <form action="/documents/delete/{{this._id}}" method="POST" class="d-inline" onsubmit="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a bÃ i viáº¿t nÃ y?')">
            <button type="submit" class="btn btn-sm btn-danger">ğŸ—‘ï¸ Delete</button>
          </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('docBarChart').getContext('2d');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['TÃ i liá»‡u Ä‘Ã£ Ä‘Äƒng', 'Tá»•ng sá»‘ comment'],
      datasets: [{
        label: 'Thá»‘ng kÃª',
        data: [{{documentCount}}, {{totalComments}}],
        backgroundColor: ['#4e73df', '#1cc88a'],
        borderColor: ['#4e73df', '#1cc88a'],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            precision: 0
          }
        }
      },
      plugins: {
        legend: {
          display: false
        },
        title: {
          display: true,
          text: 'Sá»‘ lÆ°á»£ng tÃ i liá»‡u vÃ  bÃ¬nh luáº­n'
        }
      }
    }
  });
</script>